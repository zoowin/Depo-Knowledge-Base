---
name: "edm-layout-formatter"
description: "将Markdown草稿自动排版为邮件模板（HTML/MJML）；当用户提出排版、生成邮件HTML或按Depo公式结构化时调用。"
---

# EDM 邮件排版自动化

本技能用于把 Markdown 草稿快速转换为邮件可用的 HTML/MJML 结构，自动校验 Depo 邮件写作公式（title/body/product），并为非 sale 类型在底部生成总结区块。

## 适用场景
- 已完成邮件文案草稿，需要快速得到可投递的 HTML/MJML
- 希望统一版式（标题层级、行距、CTA按钮、图片占位、对齐）
- 批量将多篇 Markdown 转换为一致风格的邮件模板

## 能力范围
- 结构校验：检测并提示是否符合 title/body/product 公式
- 自动生成总结：非 sale 类型自动在底部生成“1. title 2. body 3. product”总结
- 版式规范：容器宽度 600px、标题层级、段落行距、列表缩进、分隔与留白
- 元件生成：CTA 按钮、分隔线、引述块、提示框（信息/警告）
- 图片处理：占位与描述、alt 文本生成、移动端缩放、安全内联样式
- 兼容性：内联 CSS、常见客户端（Gmail/Outlook）渲染友好

## 排版流程
1. 文案输入
   - 读取 Markdown 草稿（支持 Depo Drafts 目录）
   - 标注邮件类型（普通/Archive Sale），以确定是否生成总结
2. 结构与校验
   - 提取标题与开头段落，匹配 title/body/product 结构
   - 对缺失项给出修复建议或自动生成占位提示
3. 布局与组件
   - 生成 600px 容器、标题层级（H1/H2）、正文段落与合理留白
   - 自动插入 CTA（如需要），生成按钮与链接占位
   - 为图片生成包裹容器（含描述与 alt），移动端居中
4. 导出与检查
   - 导出 HTML（默认）与 MJML（可选）
   - 校验常见客户端兼容性要点与图片尺寸/体积提示
   - 输出投递前检查清单

## 输出内容
- HTML/MJML 文件（或片段）与内联样式
- 结构校验报告与修复建议
- CTA 与图片占位的替换提示
- 底部总结区块（非 sale 类型）

## 触发时机
- 当用户提出“自动排版”“生成邮件HTML/MJML”“检查结构并生成总结”时调用
- 在上线前回顾排版一致性与兼容性时调用

## 注意事项
- 尽量减少图片内文字；CTA 用按钮以提高可达性
- 链接使用明确锚文本；为图片补充 alt 文本
- 关注 Outlook 渲染特性，保持内联样式与简洁布局

